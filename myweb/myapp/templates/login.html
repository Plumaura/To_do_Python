<!DOCTYPE html>
<html lang="en">
  {% load static %}
  <head>
    <meta charset="UTF-8" />
    <title>Search</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/3.2.29/vue.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="{% static 'css/manage.css' %}" />
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
  </head>
  <body>
    <div id="app" class="relative">
      <center><h2 style="font-size: 52px">Todo list</h2></center>
      <div class="loginContent w-full max-w-xs" style="margin: auto">
        <form action="{% url 'login' %}" method="post" class="bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4">
          {% csrf_token %}
          <div class="mb-4">
            <label class="block text-gray-700 text-sm font-bold mb-2" for="username"> ID </label>
            <input
              class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
              id="username"
              name="loginId"
              type="text"
              placeholder="아이디"
            />
          </div>
          <div class="mb-6">
            <label class="block text-gray-700 text-sm font-bold mb-2" for="password"> Password </label>
            <input
              class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline"
              id="password"
              name="loginPw"
              type="password"
              placeholder="패스워드"
            />
            <!-- <p class="text-red-500 text-xs italic">Please choose a password.</p> -->
          </div>
          <div class="flex items-center justify-between">
            <input
              class="text-white bg-gradient-to-r from-cyan-500 to-blue-500 hover:bg-gradient-to-bl focus:ring-4 focus:outline-none focus:ring-cyan-300 dark:focus:ring-cyan-800 font-medium rounded-lg text-sm px-5 py-2.5 text-center mr-2 mb-2"
              type="submit"
              value="로그인"
            />
            <button
              href="{% url 'user_create' %}"
              class="text-white bg-gradient-to-br from-pink-500 to-orange-400 hover:bg-gradient-to-bl focus:ring-4 focus:outline-none focus:ring-pink-200 dark:focus:ring-pink-800 font-medium rounded-lg text-sm px-5 py-2.5 text-center mr-2 mb-2"
              type="submit"
            >
              회원가입
            </button>
          </div>
          {% if noneUser %}
          <p style="color: red">로그인 실패</p>
          {% endif %}
        </form>
      </div>
      <!-- <form action="{% url 'main' %}" method="post">
        {% csrf_token %}
        <input id="login_ID" type="text" name="loginId" placeholder="ID" />
        <input id="login_PW" type="password" name="loginPw" placeholder="Password" />
        <input type="submit" value="go" />
      </form> -->
    </div>

    <script>
      new Vue({
        el: "#app",
        data() {
          return {
            id: this.id,
            password: this.password,
            results: [],
          };
        },
        methods: {
          search() {
            var data = {
              id: this.id,
              password: this.password,
            };

            axios.post("{% url 'main' %}", data).then((response) => {
              this.results = response.data;
            });
          },
        },
      });
    </script>
  </body>
</html>
